{"version":3,"sources":["constants/index.js","API/index.js","components/weather/components.js","components/weather/index.js","pages/home/index.js","GlobalStyle.js","index.js"],"names":["API_KEY","instance","axios","create","baseURL","Card","styled","div","CardHeader","CardBody","CardBlock","CardElement","p","CardHeaderInput","input","Weather","weatherData","onUpdateData","onUpdateDataByCity","useState","name","inputValue","setInputValue","type","value","onChange","e","currentTarget","Button","onClick","event","className","inverted","color","circular","icon","weather","description","main","temp","toFixed","Date","sys","sunrise","toLocaleTimeString","sunset","moment","format","Home","latRef","useRef","longRef","undefined","setWeatherData","handleUpdateDataByCity","useCallback","city","get","getWeatherByCity","then","response","data","catch","error","status","handleUpdateData","lat","long","navigator","geolocation","getCurrentPosition","pos","current","coords","latitude","longitude","useEffect","Dimmer","active","Loader","GlobalStyle","createGlobalStyle","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+KACaA,EAAU,mC,QCEjBC,E,OAAWC,EAAMC,OAAO,CAC1BC,QDJmB,6C,0CEEVC,EAAOC,IAAOC,IAAV,yEAIJC,EAAaF,IAAOC,IAAV,8JAOVE,EAAWH,IAAOC,IAAV,gDAGRG,EAAYJ,IAAOC,IAAV,kGAKTI,EAAcL,IAAOM,EAAV,4CAGXC,EAAkBP,IAAOQ,MAAV,4G,OClBfC,EAAU,SAAC,GAAqD,IAApDC,EAAmD,EAAnDA,YAAaC,EAAsC,EAAtCA,aAAcC,EAAwB,EAAxBA,mBAAwB,EAEpCC,mBAASH,EAAYI,MAFe,mBAEjEC,EAFiE,KAErDC,EAFqD,KAOxE,OACI,eAACjB,EAAD,WACI,eAACG,EAAD,WACI,cAACK,EAAD,CAAiBU,KAAK,OAAOC,MAAOH,EAAYI,SANlC,SAACC,GACvBJ,EAAcI,EAAEC,cAAcH,UAMtB,cAACI,EAAA,EAAD,CAAQC,QAAS,SAAAC,GAAK,OAAIZ,EAAmBG,IAA7C,kBACA,cAACO,EAAA,EAAD,CAAQG,UAAU,SAASC,UAAQ,EAACC,MAAM,MAAMC,UAAQ,EAACC,KAAK,UAAUN,QAASZ,OAErF,eAACR,EAAD,WACI,eAACC,EAAD,WACI,eAACC,EAAD,uBAAuBK,EAAYoB,QAAQ,GAAGC,eAC9C,eAAC1B,EAAD,qBAAqBK,EAAYsB,KAAKC,KAAO,QAAQC,QAAQ,GAA7D,eAEJ,eAAC9B,EAAD,WACI,eAACC,EAAD,uBAAuB,IAAI8B,KAA+B,IAA1BzB,EAAY0B,IAAIC,SAAgBC,mBAAmB,YACnF,eAACjC,EAAD,sBAAsB,IAAI8B,KAA8B,IAAzBzB,EAAY0B,IAAIG,QAAeD,mBAAmB,eAErF,eAAClC,EAAD,WACI,eAACC,EAAD,mBAAmBmC,MAASC,OAAO,WACnC,eAACpC,EAAD,oBAAoBmC,MAASC,OAAO,mB,kBCxB3CC,EAAO,WAEhB,IAAMC,EAASC,iBAAO,GAChBC,EAAUD,iBAAO,GAHD,EAKgB/B,wBAASiC,GALzB,mBAKfpC,EALe,KAKFqC,EALE,KAOhBC,EAAyBC,uBAAY,SAACC,GACxCH,OAAeD,GHNS,SAAAI,GAAI,OAAIvD,EAASwD,IAAT,oBAA0BD,EAA1B,kBAAwCxD,IGOxE0D,CAAiBF,GACZG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,QAC1BF,MAAK,SAAAE,GAAI,OAAIR,EAAeQ,MAC5BC,OAAM,SAACC,GACyB,MAA1BA,EAAMH,SAASI,QACdC,SAGb,IAEGA,EAAmBV,uBAAY,WHnBf,IAACW,EAAKC,EGoBxBd,OAAeD,GACfgB,UAAUC,YAAYC,oBAAmB,SAACC,GACtCtB,EAAOuB,QAAUD,EAAIE,OAAOC,SAC5BvB,EAAQqB,QAAUD,EAAIE,OAAOE,cHvBdT,EGyBRjB,EAAOuB,QHzBML,EGyBGhB,EAAQqB,QHzBFvE,EAASwD,IAAT,sBAA4BS,EAA5B,gBAAuCC,EAAvC,kBAAqDnE,KG0BjF2D,MAAK,SAAAC,GAAQ,OAAIA,EAASC,QAC1BF,MAAK,SAAAE,GAAI,OAAIR,EAAeQ,QAClC,IAMH,OAJAe,qBAAU,WACNX,MACD,CAAChB,EAAOuB,QAASrB,EAAQqB,UAGxB,mCACKxD,EAAc,cAAC,EAAD,CAASC,aAAcgD,EAAkB/C,mBAAoBoC,EACpDtC,YAAaA,IACjC,cAAC6D,EAAA,EAAD,CAAQC,QAAM,EAAd,SACI,cAACC,EAAA,EAAD,6BC5CPC,EAAcC,YAAH,oMCKxBC,IAASC,OACL,eAAC,IAAMC,WAAP,WACI,cAACJ,EAAD,IACA,cAAC,EAAD,OAEJK,SAASC,eAAe,W","file":"static/js/main.639dc009.chunk.js","sourcesContent":["export const API_URL = 'https://api.openweathermap.org/data/2.5/'\r\nexport const API_KEY = '80cf0225aa006c804cf0c8491f34733e'\r\nexport const API_ICON_URL = 'https://openweathermap.org/img/w/'","import {API_URL, API_KEY} from '../constants/index'\r\nimport axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n    baseURL: API_URL,\r\n})\r\n\r\nexport const getWeather = (lat, long) => instance.get(`weather?lat=${lat}&lon=${long}&appid=${API_KEY}`)\r\n\r\nexport const getWeatherByCity = city => instance.get(`weather?q=${city}&appid=${API_KEY}`)","import styled from 'styled-components'\r\n\r\nexport const Card = styled.div`\r\n    width: 700px;\r\n    background: #e7e7fa;\r\n`\r\nexport const CardHeader = styled.div`\r\n    padding: 20px;\r\n    background: antiquewhite;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    font-size: 40px;\r\n`\r\nexport const CardBody = styled.div`\r\n    padding: 20px;\r\n`\r\nexport const CardBlock = styled.div`\r\n    display: flex;\r\n    margin: 10px 0;\r\n    flex-direction: column;\r\n`\r\nexport const CardElement = styled.p`\r\n    margin: 0;\r\n`\r\nexport const CardHeaderInput = styled.input`\r\n    border: none;\r\n    border-bottom: 1px solid;\r\n    background: transparent;\r\n`","import React from \"react\";\r\nimport {Button} from \"semantic-ui-react\";\r\nimport moment from 'moment'\r\nimport {Card, CardBlock, CardBody, CardElement, CardHeader, CardHeaderInput} from \"./components\"\r\nimport {useState} from \"react\"\r\n\r\nexport const Weather = ({weatherData, onUpdateData, onUpdateDataByCity}) => {\r\n\r\n    const [inputValue, setInputValue] = useState(weatherData.name)\r\n\r\n    const handleInputChange = (e) => {\r\n        setInputValue(e.currentTarget.value)\r\n    }\r\n    return (\r\n        <Card>\r\n            <CardHeader>\r\n                <CardHeaderInput type='text' value={inputValue} onChange={handleInputChange}/>\r\n                <Button onClick={event => onUpdateDataByCity(inputValue)}>Find</Button>\r\n                <Button className=\"button\" inverted color='red' circular icon='refresh' onClick={onUpdateData}/>\r\n            </CardHeader>\r\n            <CardBody>\r\n                <CardBlock>\r\n                    <CardElement>Weather: {weatherData.weather[0].description}</CardElement>\r\n                    <CardElement>Temp: {(weatherData.main.temp - 273.15).toFixed(2)} &deg;C</CardElement>\r\n                </CardBlock>\r\n                <CardBlock>\r\n                    <CardElement>Sunrise: {new Date(weatherData.sys.sunrise * 1000).toLocaleTimeString('en-IN')}</CardElement>\r\n                    <CardElement>Sunset: {new Date(weatherData.sys.sunset * 1000).toLocaleTimeString('en-IN')}</CardElement>\r\n                </CardBlock>\r\n                <CardBlock>\r\n                    <CardElement>Day: {moment().format('dddd')}</CardElement>\r\n                    <CardElement>Date: {moment().format('LL')}</CardElement>\r\n                </CardBlock>\r\n            </CardBody>\r\n        </Card>\r\n    )\r\n}","import React from 'react'\r\nimport {useState, useEffect, useRef, useCallback} from 'react'\r\n\r\nimport {getWeather, getWeatherByCity} from '../../API'\r\nimport {Weather} from \"../../components/weather\";\r\nimport {Dimmer, Loader} from \"semantic-ui-react\";\r\n\r\nexport const Home = () => {\r\n\r\n    const latRef = useRef(0)\r\n    const longRef = useRef(0)\r\n\r\n    const [weatherData, setWeatherData] = useState(undefined)\r\n\r\n    const handleUpdateDataByCity = useCallback((city) => {\r\n        setWeatherData(undefined)\r\n        getWeatherByCity(city)\r\n            .then(response => response.data)\r\n            .then(data => setWeatherData(data))\r\n            .catch((error) => {\r\n                if(error.response.status === 404){\r\n                    handleUpdateData()\r\n                }\r\n            })\r\n    }, [])\r\n\r\n    const handleUpdateData = useCallback(() => {\r\n        setWeatherData(undefined)\r\n        navigator.geolocation.getCurrentPosition((pos) => {\r\n            latRef.current = pos.coords.latitude\r\n            longRef.current = pos.coords.longitude\r\n        })\r\n        getWeather(latRef.current, longRef.current)\r\n            .then(response => response.data)\r\n            .then(data => setWeatherData(data))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        handleUpdateData()\r\n    }, [latRef.current, longRef.current])\r\n\r\n    return (\r\n        <>\r\n            {weatherData ? <Weather onUpdateData={handleUpdateData} onUpdateDataByCity={handleUpdateDataByCity}\r\n                                    weatherData={weatherData}/> :\r\n                <Dimmer active>\r\n                    <Loader>Loading..</Loader>\r\n                </Dimmer>}\r\n        </>\r\n    )\r\n}\r\n\r\n","import { createGlobalStyle } from 'styled-components'\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n  body {\r\n    background: #282c34;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-family: monospace;\r\n    font-size: 20px;\r\n  }\r\n`","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport 'semantic-ui-css/semantic.min.css'\r\nimport {Home} from \"./pages/home\";\r\nimport {GlobalStyle} from \"./GlobalStyle\";\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <GlobalStyle/>\r\n        <Home/>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}